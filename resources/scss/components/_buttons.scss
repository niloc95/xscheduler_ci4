// ===========================
// Button Components
// ===========================

@layer components {
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 active:scale-95 disabled:opacity-60 disabled:cursor-not-allowed;
    background-color: transparent;
    border: 1px solid transparent;
    color: inherit;
    text-decoration: none;
  }

  .btn-primary {
    background-color: var(--md-sys-color-primary);
    border-color: var(--md-sys-color-primary);
    color: var(--md-sys-color-on-primary, #fff);
  }

  .btn-primary:hover {
    background-color: color-mix(in srgb, var(--md-sys-color-primary) 92%, #000 8%);
    border-color: color-mix(in srgb, var(--md-sys-color-primary) 92%, #000 8%);
  }

  .btn-primary:focus-visible {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--md-sys-color-primary) 30%, transparent);
  }

  .dark .btn-primary:hover {
    background-color: color-mix(in srgb, var(--md-sys-color-primary) 85%, #fff 15%);
    border-color: color-mix(in srgb, var(--md-sys-color-primary) 85%, #fff 15%);
  }

  .btn-secondary {
    @apply bg-white text-gray-800 border border-gray-300 shadow-sm;
  }

  .btn-secondary:hover {
    @apply bg-gray-50 border-gray-300;
  }

  .dark .btn-secondary {
    @apply bg-gray-800 text-gray-200 border border-gray-600;
  }

  .dark .btn-secondary:hover {
    @apply bg-gray-700 border-gray-500;
  }

  .btn-ghost {
    @apply bg-transparent border border-transparent;
    color: var(--md-sys-color-primary);
  }

  .btn-ghost:hover {
    background-color: color-mix(in srgb, currentColor 15%, transparent);
  }

  .dark .btn-ghost {
    color: var(--md-sys-color-on-surface, #e5e7eb);
  }

  .dark .btn-ghost:hover {
    background-color: color-mix(in srgb, currentColor 20%, transparent);
  }

  .btn-pill {
    @apply rounded-full;
    background-color: var(--md-sys-color-secondary);
    border-color: var(--md-sys-color-secondary);
    color: var(--md-sys-color-on-secondary, #fff);
  }

  .btn-pill:hover {
    background-color: color-mix(in srgb, var(--md-sys-color-secondary) 92%, #000 8%);
    border-color: color-mix(in srgb, var(--md-sys-color-secondary) 92%, #000 8%);
  }

  .dark .btn-pill:hover {
    background-color: color-mix(in srgb, var(--md-sys-color-secondary) 85%, #fff 15%);
    border-color: color-mix(in srgb, var(--md-sys-color-secondary) 85%, #fff 15%);
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-5 py-3 text-base;
  }

  .btn-icon {
    @apply p-0 rounded-full w-10 h-10 inline-flex items-center justify-center;
  }

  .btn-icon.btn-sm {
    @apply w-8 h-8;
  }

  .btn-icon.btn-lg {
    @apply w-12 h-12;
  }

  // Brand color button (orange/secondary)
  .btn-brand {
    @apply px-6 py-3 text-sm font-medium rounded-lg shadow-sm text-white transition-all duration-200;
    background-color: var(--md-sys-color-secondary, #F77F00);
    border-color: transparent;
    
    &:hover {
      opacity: 0.9;
    }
    
    &:focus {
      @apply ring-2 ring-offset-2 ring-orange-500;
    }
  }

  html.dark .btn-brand:focus {
    @apply ring-offset-gray-800;
  }

  // Danger/destructive button
  .btn-danger {
    @apply bg-red-600 text-white border-red-600;
    
    &:hover {
      @apply bg-red-700 border-red-700;
    }
  }

  // Submit/action button with Material primary color
  .btn-submit {
    @apply px-5 py-2.5 rounded-lg text-white;
    background-color: var(--md-sys-color-primary, #003049);
    
    &:hover {
      filter: brightness(0.96);
    }
    
    &:disabled {
      @apply opacity-60 cursor-not-allowed;
    }
  }

  // Test action button (secondary color)
  .btn-test {
    @apply px-4 py-2 rounded-lg text-white;
    background-color: var(--md-sys-color-secondary, #F77F00);
    
    &:hover {
      filter: brightness(0.96);
    }
  }

  // Full-width button
  .btn-block {
    @apply w-full;
  }
}
